!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("moment")):"function"==typeof define&&define.amd?define("ngx-moment",["exports","@angular/core","moment"],e):e(t["ngx-moment"]={},t.ng.core,t.moment)}(this,function(t,r,a){"use strict";var n=a,e=function(){function t(){}return t.prototype.transform=function(t,e,r){if(void 0===e||"number"==typeof e&&void 0===r)throw new Error("AddPipe: missing required arguments");return n(t).add(e,r)},t.decorators=[{type:r.Pipe,args:[{name:"amAdd"}]}],t}(),s=a,o=function(){function n(t,e){var r=this;this.cdRef=t,this.ngZone=e,n.initTimer(e),n.refs++,this.midnightSub=n.midnight.subscribe(function(){r.ngZone.run(function(){return r.cdRef.markForCheck()})})}return n.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=null,o=null,i=0,u=e.length;i<u;i++)null!==e[i]&&("object"!=typeof e[i]||a.isMoment(e[i])?o=s(e[i]):n=e[i]);return s(t).calendar(o,n)},n.prototype.ngOnDestroy=function(){0<n.refs&&n.refs--,0===n.refs&&n.removeTimer(),this.midnightSub.unsubscribe()},n.initTimer=function(t){if(!n.midnight&&(n.midnight=new r.EventEmitter,"undefined"!=typeof window)){var e=n._getMillisecondsUntilUpdate();n.timer=t.runOutsideAngular(function(){return window.setTimeout(function(){n.midnight.emit(new Date),n.removeTimer(),n.initTimer(t)},e)})}},n.removeTimer=function(){n.timer&&(window.clearTimeout(n.timer),n.timer=null,n.midnight=null)},n._getMillisecondsUntilUpdate=function(){var t=s();return s().startOf("day").add(1,"days").valueOf()-t.valueOf()+1e3},n.refs=0,n.timer=null,n.midnight=null,n.decorators=[{type:r.Pipe,args:[{name:"amCalendar",pure:!1}]}],n.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]},n}(),i=a,u=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t?i(t).format(e[0]):""},t.decorators=[{type:r.Pipe,args:[{name:"amDateFormat"}]}],t}(),c=a,f=function(){function t(){}return t.prototype.transform=function(t,e,r,n){var o=c(t),i=null!==e?c(e):c();return o.diff(i,r,n)},t.decorators=[{type:r.Pipe,args:[{name:"amDifference"}]}],t}(),m=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(void 0===e||1!==e.length)throw new Error("DurationPipe: missing required time unit argument");return a.duration(t,e[0]).humanize()},t.decorators=[{type:r.Pipe,args:[{name:"amDuration"}]}],t}(),p=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return"string"==typeof t&&(t=+t),a.unix(t)},t.decorators=[{type:r.Pipe,args:[{name:"amFromUnix"}]}],t}(),l=a,d=function(){function t(){}return t.prototype.transform=function(t,e){return l(t,e)},t.decorators=[{type:r.Pipe,args:[{name:"amParse"}]}],t}(),g=a,h=function(){function t(){}return t.prototype.transform=function(t,e,r){if(void 0===e||"number"==typeof e&&void 0===r)throw new Error("SubtractPipe: missing required arguments");return g(t).subtract(e,r)},t.decorators=[{type:r.Pipe,args:[{name:"amSubtract"}]}],t}(),y=a,P=function(){function t(t,e){this.cdRef=t,this.ngZone=e}return t.prototype.transform=function(t,e){return this.hasChanged(t,e)?(this.lastTime=this.getTime(t),this.lastValue=t,this.lastOmitSuffix=e,this.lastLocale=this.getLocale(t),this.removeTimer(),this.createTimer(),this.lastText=y(t).from(y(),e)):this.createTimer(),this.lastText},t.prototype.ngOnDestroy=function(){this.removeTimer()},t.prototype.createTimer=function(){var t=this;if(!this.currentTimer){var e=y(this.lastValue),r=1e3*this.getSecondsUntilUpdate(e);this.currentTimer=this.ngZone.runOutsideAngular(function(){return"undefined"!=typeof window?window.setTimeout(function(){t.lastText=y(t.lastValue).from(y(),t.lastOmitSuffix),t.currentTimer=null,t.ngZone.run(function(){return t.cdRef.markForCheck()})},r):null})}},t.prototype.removeTimer=function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)},t.prototype.getSecondsUntilUpdate=function(t){var e=Math.abs(y().diff(t,"minute"));return e<1?1:e<60?30:e<180?300:3600},t.prototype.hasChanged=function(t,e){return this.getTime(t)!==this.lastTime||this.getLocale(t)!==this.lastLocale||e!==this.lastOmitSuffix},t.prototype.getTime=function(t){return a.isDate(t)?t.getTime():a.isMoment(t)?t.valueOf():y(t).valueOf()},t.prototype.getLocale=function(t){return a.isMoment(t)?t.locale():null},t.decorators=[{type:r.Pipe,args:[{name:"amTimeAgo",pure:!1}]}],t.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:r.NgZone}]},t}(),T=a,v=function(){function t(){}return t.prototype.transform=function(t){return T(t).utc()},t.decorators=[{type:r.Pipe,args:[{name:"amUtc"}]}],t}(),w=function(){function t(){}return t.prototype.transform=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return a.utc(t)},t.decorators=[{type:r.Pipe,args:[{name:"amFromUtc"}]}],t}(),b=a,x=function(){function t(){}return t.prototype.transform=function(t){return b(t).local()},t.decorators=[{type:r.Pipe,args:[{name:"amLocal"}]}],t}(),U=a,D=function(){function t(){}return t.prototype.transform=function(t,e){return U(t).locale(e)},t.decorators=[{type:r.Pipe,args:[{name:"amLocale"}]}],t}(),O=function(){function t(){}return t.prototype.transform=function(t){return a.parseZone(t)},t.decorators=[{type:r.Pipe,args:[{name:"amParseZone"}]}],t}(),M=[e,o,u,f,m,p,d,h,P,v,w,x,D,O],S=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:M,exports:M}]}],t}();t.AddPipe=e,t.CalendarPipe=o,t.DateFormatPipe=u,t.DifferencePipe=f,t.DurationPipe=m,t.FromUnixPipe=p,t.ParsePipe=d,t.MomentModule=S,t.SubtractPipe=h,t.TimeAgoPipe=P,t.UtcPipe=v,t.FromUtcPipe=w,t.LocalTimePipe=x,t.LocalePipe=D,t.ParseZonePipe=O,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-moment.umd.min.js.map