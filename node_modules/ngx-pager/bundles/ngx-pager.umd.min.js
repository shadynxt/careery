!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/router"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-pager",["exports","@angular/router","@angular/core","@angular/common"],e):e(t["ngx-pager"]={},t.ng.router,t.ng.core,t.ng.common)}(this,function(t,e,r,i){"use strict";var s=function(){function t(){}return t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),a=function(){function t(t,e){this.route=t,this.activeRoute=e,this.config=null,this.totalrow=null,this.pages=[],this.currentPage=1,this.displayPagesCount=3,this.totalPage=1,this.simple=!1,this.firstLastView=!1,this.error=!1,this.redirectType="",this.redirectParamName="",this.customContent={prev:"&#10094;",next:"&#x276F;",first:"&#10094;&#10094;",last:"&#x276F;&#x276F;"}}return t.prototype.ngOnInit=function(){var e=this;if(localStorage.getItem("_nxp")&&this.config&&!this.config.redirect){var t=localStorage.getItem("_nxp").split(":");t[0]==this.route.url&&(this.currentPage=Number(t[1])),this.rendering()}else if(localStorage.getItem("_nxp")||!this.config||this.config.redirect){if(this.totalrow||0==this.totalrow)this.error=!0;else if(this.config&&this.config.redirect){if(localStorage.removeItem("_nxp"),!this.config.redirect.type)return console.error("'type' parameter must be set with 'redirect' parameter"),!(this.error=!0);if(!this.config.redirect.param)return console.error("'param' parameter must be set with 'redirect' parameter"),!(this.error=!0);if(!this.error){var r=null;"q"===this.config.redirect.type?(r=this.activeRoute.queryParams,this.redirectParamName=this.config.redirect.param):"p"===this.config.redirect.type&&(this.redirectParamName=this.config.redirect.param.name,r=this.activeRoute.params),r.subscribe(function(t){t[e.redirectParamName]&&(e.currentPage=parseInt(t[e.redirectParamName])),e.rendering()})}}}else localStorage.setItem("_nxp",this.route.url+":"+this.currentPage),this.rendering()},t.prototype.ngOnChanges=function(t){t.totalrow&&this.totalrow&&this.settings()},t.prototype.settings=function(){if(!this.config)return console.error("define 'config' parameters of ngx-pager"),!(this.error=!0);this.config.firstLastView&&(this.firstLastView=this.config.firstLastView),this.config.simple&&(this.simple=this.config.simple),this.config.displayPageCount&&(this.displayPagesCount=this.config.displayPageCount),this.config.customContent&&(this.config.customContent.prev&&(this.customContent.prev=this.config.customContent.prev),this.config.customContent.next&&(this.customContent.next=this.config.customContent.next),this.config.customContent.first&&(this.customContent.first=this.config.customContent.first),this.config.customContent.last&&(this.customContent.last=this.config.customContent.last)),!1===this.error&&this.totalrow&&this.config.perPage?(this.totalPage=this.totalrow/this.config.perPage,this.totalPage%1!=0&&(this.totalPage+=1,this.totalPage=Math.floor(this.totalPage))):(this.totalrow||(console.error("'totalrow' parameter must be set"),this.error=!0),this.config.perPage||(console.error("'perPage' parameter must be set"),this.error=!0)),!1===this.error&&this.displayPagesCount>this.totalPage&&(this.displayPagesCount=this.totalPage),!1===this.error&&this.redefinePager()},t.prototype.pageClick=function(t,e){if(this.currentPage=e,this.redefinePager(),this.config.redirect){var r={relativeTo:this.activeRoute};if("q"===this.config.redirect.type)r.queryParams={},r.queryParams[this.redirectParamName]=this.currentPage,r.queryParamsHandling="merge",this.route.navigate([],r);else if("p"===this.config.redirect.type){if(!this.config.redirect.param.path)return console.error("'url' parameter must be set with 'config.redirect'"),!(this.error=!0);var i=[this.config.redirect.param.path];for(var s in this.config.redirect.param.params)s===this.redirectParamName?i.push(this.currentPage):i.push(this.config.redirect.param.params[s]);this.route.navigate(i)}}else localStorage.setItem("_nxp",this.route.url+":"+this.currentPage),this.rendering()},t.prototype.redefinePager=function(){this.pages=[],this.pages.push(this.currentPage);var t=0,e=0;this.displayPagesCount%2==0?(t=Math.floor(this.displayPagesCount/3),e=Math.floor(2*this.displayPagesCount/3),this.displayPagesCount%6==0&&(t-=1)):(t=Math.floor((this.displayPagesCount-1)/2),e=Math.floor((this.displayPagesCount-1)/2));for(var r=[],i=[],s=1;s<=t;s++)0<this.currentPage-s&&r.push(this.currentPage-s);r.length<t&&(e+=t-r.length);for(s=1;s<=e;s++)this.currentPage+s<=this.totalPage&&i.push(this.currentPage+s);if(i.length<e){t+=e-i.length,r=[];for(s=1;s<=t;s++)0<this.currentPage-s&&r.push(this.currentPage-s)}this.pages=this.pages.concat(r),this.pages=this.pages.concat(i),this.pages.sort(function(t,e){return t-e})},t.prototype.rendering=function(){var t=this;setTimeout(function(){t.config.render(t.currentPage)},5)},t.decorators=[{type:r.Component,args:[{selector:"ngx-pager",template:'<div class="ngx-pager-container" *ngIf="!error && totalrow > 0">\n<ul *ngIf="pages">\n    <li class="arrow first" [class.disabled]="currentPage==1" *ngIf="firstLastView && !simple"><a  href="javascript:void(0)" (click)="pageClick($event, 1)" [innerHTML]="customContent.first"></a></li>\n    \n    <li class="arrow prev" [class.disabled]="currentPage==1"><a  href="javascript:void(0)" (click)="pageClick($event, (currentPage-1))" [innerHTML]="customContent.prev"></a></li>\n    \n    <li *ngFor="let p of pages" [class.active]="currentPage==p" [class.invisible]="simple">\n    <a  href="javascript:void(0)" (click)="pageClick($event, p)">{{ p }}</a>\n    </li>\n    \n    <li class="arrow next" [class.disabled]="currentPage==totalPage"><a  href="javascript:void(0)" (click)="pageClick($event, currentPage+1)" [innerHTML]="customContent.next"></a></li>\n    \n    <li class="arrow last" [class.disabled]="currentPage==totalPage" *ngIf="firstLastView && !simple"><a  href="javascript:void(0)" (click)="pageClick($event, totalPage)" [innerHTML]="customContent.last"></a></li>\n</ul>\n</div>\n',styles:[""]}]}],t.ctorParameters=function(){return[{type:e.Router},{type:e.ActivatedRoute}]},t.propDecorators={config:[{type:r.Input}],totalrow:[{type:r.Input}]},t}(),o=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[a],imports:[i.CommonModule],exports:[i.CommonModule,a]}]}],t}();t.NgxPagerService=s,t.NgxPagerComponent=a,t.NgxPagerModule=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-pager.umd.min.js.map